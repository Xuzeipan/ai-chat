# TypeScript 类型定义案例

## 1. 基础接口定义

```typescript
// 定义消息类型
interface Message {
  id: string;           // 消息唯一标识
  role: 'user' | 'assistant';  // 消息角色
  content: string;      // 消息内容
  timestamp: number;    // 时间戳
}

// 定义应用状态
interface ChatState {
  messages: Message[];  // 消息列表
  isLoading: boolean;   // 是否正在加载
  error: string | null; // 错误信息
}
```

## 2. 组件 Props 类型

```typescript
// 聊天列表组件的 Props
interface ChatListProps {
  messages: Message[];  // 传入的消息列表
}

// 输入框组件的 Props
interface ChatInputProps {
  onSend: (content: string) => void;  // 发送回调函数
  isLoading: boolean;                 // 是否正在发送
}
```

## 3. 函数类型

```typescript
// 发送消息的函数类型
type SendMessageFn = (content: string) => Promise<void>;

// API 响应类型
interface ApiResponse {
  success: boolean;
  data: {
    reply: string;
  };
  error?: string;
}
```

## 4. 类型别名 vs 接口

```typescript
// 类型别名 - 适合联合类型、元组等
type MessageRole = 'user' | 'assistant';
type MessageId = string;

// 接口 - 适合对象结构
interface Message {
  id: MessageId;
  role: MessageRole;
  content: string;
}
```

## 5. 实际使用示例

```typescript
// 在组件中使用
import { useState } from 'react';

function App() {
  const [state, setState] = useState<ChatState>({
    messages: [],
    isLoading: false,
    error: null
  });

  const handleSend: SendMessageFn = async (content) => {
    // 发送逻辑
  };

  return (
    <div>
      <ChatList messages={state.messages} />
      <ChatInput onSend={handleSend} isLoading={state.isLoading} />
    </div>
  );
}
```

## 6. 可选属性和只读属性

```typescript
interface Message {
  id: string;
  role: 'user' | 'assistant';
  content: string;
  timestamp?: number;      // 可选属性
  readonly createdAt: Date; // 只读属性
}
```

## 7. 工具类型

```typescript
// 部分属性更新
type UpdateMessage = Partial<Message>;

// 必需属性
type CreateMessage = Required<Pick<Message, 'role' | 'content'>>;

// 提取类型
type MessageRoleType = Message['role']; // 'user' | 'assistant'
```

## 你的任务

根据你的项目需求，定义以下类型：

1. **Message 接口**：包含 role 和 content
2. **ChatState 类型**：包含 messages、loading、error
3. **ChatInputProps 接口**：输入框组件需要的 props

试试看，写完后我可以帮你检查！