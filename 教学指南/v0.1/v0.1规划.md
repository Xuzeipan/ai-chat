# v0.1 规划 - AI 聊天应用最小版本

## 功能需求

### 1. 基础 UI
- 聊天界面布局
- 聊天列表展示
- 用户消息气泡
- AI 消息气泡
- 输入框
- 发送按钮

### 2. 状态管理
- `messages` 数组
- 每条消息结构：
  - `role`: 'user' | 'assistant'
  - `content`: string

### 3. 异步请求
- 点击发送按钮触发
- 发送请求前显示 loading 状态
- 收到回复后追加消息到列表
- 请求失败时显示错误提示，不影响页面继续使用

## 实现步骤

### 步骤 1：类型定义
- 定义 Message 接口
- 定义 ChatState 类型

### 步骤 2：UI 组件
- 创建 ChatList 组件（展示消息列表）
- 创建 MessageBubble 组件（单条消息气泡）
- 创建 ChatInput 组件（输入框 + 发送按钮）
- 创建 App 主布局

### 步骤 3：状态管理
- 使用 useState 管理 messages 数组
- 使用 useState 管理 loading 状态
- 使用 useState 管理 error 状态

### 步骤 4：API 集成
- 创建 sendMessage 函数
- 处理异步请求
- 添加 loading 状态控制
- 添加错误处理和兜底逻辑

### 步骤 5：样式优化
- 区分用户和 AI 消息样式
- 添加 loading 动画
- 添加错误提示样式
- 响应式布局优化

## 技术栈
- React 18
- TypeScript
- Vite
- CSS Modules 或 Styled Components（待定）

## 待确认事项
- API 接口地址和请求格式
- 是否需要消息持久化（localStorage）
- 是否需要 Markdown 渲染支持